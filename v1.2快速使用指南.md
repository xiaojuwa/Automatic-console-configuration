# 网络设备自动化助手 v1.2 快速使用指南

## 🚀 快速开始

### 1. 启动程序
```bash
python main.py
```

### 2. 连接设备
1. **选择COM端口**: 点击"刷新"按钮，选择设备端口
2. **设置波特率**: 点击"自动检测"或手动选择
3. **配置自动登录** (可选):
   - 输入用户名和密码
   - 勾选"启用自动登录"
   - 点击"保存配置"
4. **建立连接**: 点击"连接"按钮

## 🖥️ 交互式终端使用

### 核心特性
- **直接输入**: 在黑色终端区域直接输入命令
- **实时发送**: 每个按键立即发送到设备
- **智能管理**: 自动区分输入区域和输出区域

### 特殊按键
| 按键 | 功能 | 说明 |
|------|------|------|
| `字母/数字` | 直接输入 | 立即发送到设备 |
| `Enter` | 执行命令 | 发送回车符 |
| `Tab` | 命令补全 | 设备支持时可补全命令 |
| `?` | 命令帮助 | 显示可用命令 |
| `Backspace` | 删除字符 | 删除前一个字符 |
| `Ctrl+C` | 中断操作 | 发送中断信号 |
| `Ctrl+Z` | 挂起进程 | 发送挂起信号 |

### 使用技巧
1. **焦点管理**: 点击终端区域确保获得输入焦点
2. **区域保护**: 无法编辑历史输出，只能在当前行输入
3. **自动滚动**: 新内容自动滚动到可见区域

## 🎛️ 模式切换

### 交互式模式 (推荐)
- **特点**: SecureCRT 风格的实时交互
- **适用**: 日常设备操作、调试、配置
- **优势**: 响应快速、操作直观

### 传统模式
- **特点**: 保持 v1.1 的操作方式
- **适用**: 批量命令执行、脚本化操作
- **优势**: 命令历史、复制粘贴方便

### 切换方法
在终端控制面板选择"交互式"或"传统"单选按钮

## ⚙️ 高级设置

### 本地回显
- **关闭** (默认): 等待设备回显，更真实
- **开启**: 本地立即显示输入，响应更快

### 终端选项
- **清空终端**: 清除所有显示内容
- **保存日志**: 将当前会话保存为文件

## 🔐 自动登录配置

### 基本配置
1. **用户名**: 设备登录用户名
2. **密码**: 登录密码
3. **Enable密码**: 特权模式密码 (可选)

### 高级配置
编辑 `config.json` 文件中的 `auto_login` 部分:
```json
{
  "auto_login": {
    "enabled": true,
    "timeout": 30,
    "prompts": {
      "username": ["Username:", "login:", "User:"],
      "password": ["Password:", "password:"],
      "success": ["#", "]"]
    }
  }
}
```

## 🛠️ 故障排除

### 常见问题

#### 1. 终端无法输入
**症状**: 在终端区域按键无响应
**解决**:
- 确认选择了"交互式"模式
- 点击终端区域获得焦点
- 检查设备连接状态

#### 2. 按键发送但无回显
**症状**: 按键发送到设备但看不到输入
**解决**:
- 检查设备是否开启回显功能
- 尝试开启"本地回显"选项
- 确认设备连接正常

#### 3. 无法删除字符
**症状**: 退格键无效果
**解决**:
- 确认光标在可输入区域
- 检查设备是否支持退格
- 尝试使用 Ctrl+C 重新开始

#### 4. 特殊字符显示异常
**症状**: 出现乱码或控制字符
**解决**:
- 检查设备字符编码设置
- 确认串口参数正确
- 尝试不同的终端设置

### 调试技巧
1. **切换模式**: 在交互式和传统模式间切换测试
2. **查看日志**: 检查自动生成的日志文件
3. **重新连接**: 断开并重新连接设备
4. **检查配置**: 验证 config.json 文件内容

## 📝 最佳实践

### 日常使用
1. **连接前准备**: 确认设备已启动并连接串口线
2. **自动登录**: 配置好用户名密码，提高效率
3. **模式选择**: 日常操作使用交互式模式
4. **定期保存**: 重要操作及时保存日志

### 批量操作
1. **预制命令**: 使用命令序列功能执行批量操作
2. **传统模式**: 复杂命令可在传统模式下准备
3. **日志记录**: 开启自动日志记录所有操作

### 安全建议
1. **密码管理**: 定期更改设备密码
2. **会话管理**: 操作完成后及时断开连接
3. **日志清理**: 定期清理包含敏感信息的日志

## 🎯 使用场景

### 设备调试
```
1. 连接设备 → 2. 自动登录 → 3. 交互式诊断
display version
show interface brief
ping 8.8.8.8
```

### 配置管理
```
1. 连接设备 → 2. 进入配置模式 → 3. 实时配置
system-view
interface GigabitEthernet0/0/1
ip address 192.168.1.1 24
```

### 批量查询
```
1. 选择预制命令 → 2. 执行序列 → 3. 查看结果
基本信息查询 → 华为基本配置 → 保存日志
```

## 🆕 v1.2 新特性亮点

- 🖥️ **SecureCRT 风格**: 专业级终端体验
- ⌨️ **实时交互**: 按键即时响应
- 🎛️ **双模式**: 灵活切换操作方式
- 🔐 **自动登录**: 智能识别登录提示
- 🔧 **高级功能**: ANSI 支持、本地回显控制

---

**享受 v1.2 带来的专业级网络设备管理体验！** 🎉
