# 网络设备自动化助手 - 新功能使用说明

## 🚀 新增功能概览

本次更新为网络设备自动化助手添加了两个重要功能：

1. **自动登录功能** - 自动处理设备登录过程
2. **实时终端交互** - 提供类似PuTTY的实时交互体验

---

## 🔐 自动登录功能

### 功能描述
自动登录功能可以在连接到设备后，自动检测登录提示符并发送预配置的用户名和密码，无需手动输入。

### 使用步骤

#### 1. 配置登录信息
在左侧控制面板的"自动登录"区域：
- **用户名**: 输入设备登录用户名
- **密码**: 输入登录密码
- **Enable**: 输入特权模式密码（可选）
- **启用自动登录**: 勾选此选项启用功能

#### 2. 保存配置
点击"保存配置"按钮保存设置，配置会自动保存到配置文件中。

#### 3. 测试登录
- 先连接到设备
- 点击"测试登录"按钮验证配置是否正确

#### 4. 自动登录
启用自动登录后，每次连接设备时会自动开始登录过程。

### 支持的提示符
系统预配置了常见的登录提示符：
- **用户名提示**: `Username:`, `login:`, `User:`, `用户名:`
- **密码提示**: `Password:`, `password:`, `密码:`
- **特权模式**: `>`
- **成功标识**: `#`, `]`
- **翻页提示**: `More`, `--More--`, `---- More ----`

### 状态指示
登录状态会在"自动登录"区域右侧显示：
- **灰色**: 未登录
- **橙色**: 正在登录
- **绿色**: 登录成功
- **红色**: 登录失败/错误

---

## 💻 实时终端交互功能

### 功能描述
实时终端功能提供了类似专业终端软件的交互体验，支持实时命令输入和响应显示。

### 界面改进

#### 1. 终端样式
- **黑色背景**: 模拟真实终端环境
- **绿色文字**: 经典终端配色
- **语法高亮**: 不同类型的文本使用不同颜色
  - 青色: 时间戳
  - 黄色: 发送的命令
  - 红色: 错误信息
  - 浅绿色: 成功信息

#### 2. 命令输入增强
- **命令历史**: 使用上下箭头键浏览历史命令
- **快速输入**: 回车键直接发送命令
- **实时显示**: 发送的命令会立即在终端中显示

### 使用方法

#### 1. 基本操作
1. 连接到设备
2. 在底部"命令"输入框中输入命令
3. 按回车键发送命令
4. 实时查看设备响应

#### 2. 命令历史
- **上箭头 ↑**: 浏览上一条历史命令
- **下箭头 ↓**: 浏览下一条历史命令
- 自动保存最近50条命令历史

#### 3. 控制选项
- **自动滚动**: 自动滚动到最新输出
- **实时模式**: 启用后显示发送的命令

---

## ⚙️ 配置说明

### 自动登录配置
配置文件 `config.json` 中新增了 `auto_login` 部分：

```json
{
  "auto_login": {
    "enabled": false,
    "username": "",
    "password": "",
    "enable_password": "",
    "timeout": 30,
    "prompts": {
      "username": ["Username:", "login:", "User:", "用户名:"],
      "password": ["Password:", "password:", "密码:"],
      "enable": [">"],
      "enable_password": ["Password:", "password:", "密码:"],
      "success": ["#", "]"],
      "more": ["More", "--More--", "---- More ----", "Press any key to continue"]
    },
    "responses": {
      "more": " "
    }
  }
}
```

### 自定义提示符
如需支持特殊设备的提示符，可以编辑配置文件中的 `prompts` 部分。

---

## 🔧 故障排除

### 自动登录问题

#### 1. 登录超时
- **原因**: 设备响应慢或提示符不匹配
- **解决**: 增加超时时间或检查提示符配置

#### 2. 密码错误
- **原因**: 配置的密码不正确
- **解决**: 重新配置正确的用户名和密码

#### 3. 无法检测提示符
- **原因**: 设备使用了非标准提示符
- **解决**: 在配置文件中添加设备特有的提示符

### 实时终端问题

#### 1. 命令历史不工作
- **原因**: 输入框未获得焦点
- **解决**: 点击命令输入框确保焦点正确

#### 2. 显示乱码
- **原因**: 字符编码问题
- **解决**: 检查设备输出编码，程序会自动尝试UTF-8和GBK

---

## 📝 使用技巧

### 1. 高效操作
- 使用命令历史功能避免重复输入
- 启用自动滚动保持查看最新输出
- 利用自动登录功能提高连接效率

### 2. 调试技巧
- 关闭实时模式可以只看设备响应
- 使用"清空输出"功能清理屏幕
- 保存日志功能便于后续分析

### 3. 安全建议
- 定期更改设备密码
- 不要在共享环境中保存密码
- 使用完毕后及时断开连接

---

## 🆕 版本更新

### v1.1 新增功能
- ✅ 自动登录功能
- ✅ 实时终端交互
- ✅ 命令历史记录
- ✅ 终端样式美化
- ✅ 登录状态指示

### 兼容性
- 完全兼容现有功能
- 保持原有配置文件格式
- 支持所有已测试的设备类型

---

## 📞 技术支持

如果在使用过程中遇到问题，请：
1. 检查本说明文档的故障排除部分
2. 查看程序输出的错误信息
3. 检查设备连接和配置是否正确

祝您使用愉快！🎉
